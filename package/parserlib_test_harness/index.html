<!DOCTYPE html>
<html>
  <head>
    <title>Parser Test Harness</title>
  </head>
  <body>
    Hello world
    <script>
      // Fetch grammar.
      fetch("/grammar").then((resp) => {
        resp.json().then((grammar) => {
          console.log("grammar:", grammar)
        })
      });

      // Parse query.
      const query = "MANY blog_posts { id, title, comments: MANY comments { id, body } }"
      const completionReq = {
        Input: query,
        CursorPos: 0,
      };
      fetch("/completions", {
        method: "POST",
        body: JSON.stringify(completionReq),
      }).then((resp) => {
        resp.json().then((completionResp) => {
          console.log("completions", completionResp)
        });
      });
    </script>
  </body>
</html>
